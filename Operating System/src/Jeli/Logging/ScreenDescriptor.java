package Jeli.Logging;

import java.io.IOException;
import java.io.OutputStream;
















































































































































































































































































































































































































































































































class ScreenDescriptor
{
  public short localScreenWidth_;
  public short localScreenHeight_;
  private byte byte_;
  public byte backgroundColorIndex_;
  public byte pixelAspectRatio_;
  
  public ScreenDescriptor(short width, short height, int numColors)
  {
    localScreenWidth_ = width;
    localScreenHeight_ = height;
    setGlobalColorTableSize((byte)(BitUtils.BitsNeeded(numColors) - 1));
    setGlobalColorTableFlag((byte)1);
    setSortFlag((byte)0);
    setColorResolution((byte)7);
    backgroundColorIndex_ = 0;
    pixelAspectRatio_ = 0;
  }
  
  public void writeOutput(OutputStream output) throws IOException {
    BitUtils.writeWord(output, localScreenWidth_);
    BitUtils.writeWord(output, localScreenHeight_);
    output.write(byte_);
    output.write(backgroundColorIndex_);
    output.write(pixelAspectRatio_);
  }
  
  public void setGlobalColorTableSize(byte num) {
    byte_ = ((byte)(byte_ | num & 0x7));
  }
  
  public void setSortFlag(byte num) {
    byte_ = ((byte)(byte_ | (num & 0x1) << 3));
  }
  
  public void setColorResolution(byte num) {
    byte_ = ((byte)(byte_ | (num & 0x7) << 4));
  }
  
  public void setGlobalColorTableFlag(byte num) {
    byte_ = ((byte)(byte_ | (num & 0x1) << 7));
  }
}
